<header class="header-box">
  <div class="header-box-div">
    <!-- Title -->
    <div class="flex-1">
      <!-- This div will take up the remaining space -->
      <a class="header-box-a">
        <button (click)="OnClick()">
        <!-- svg for company logo (change req) -->
        <img src="../../../assets/icons/cc_logo.svg">
        </button> 
        <span class="ml-3 text-lg font-semibold text-CCblue whitespace-nowrap">Container Conundrum</span>
      </a>
    </div>


 <div class="flex-1" (click)="showFilterOptions = true">
  <div class="relative">
    <div class="flex items-center border border-gray-200 px-4 py-2">
      <!-- search bar icon -->
      <div class="search-bar-icon">
        <!-- search bar icon -->
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5"
          fill="none"
          viewBox="0 0 24 24"
          stroke="gray"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
          />
        </svg>
      </div>
      <!-- icon end -->
      <!-- input for the search bar -->
      <input
        class="ml-0 w-full bg-transparent placeholder-gray-400 focus:outline-none"
        type="text"
        id="search"
        placeholder="Search something..."
        [(ngModel)]="searchTerm"
        (blur)="showFilterOptions = false"
      />
      <!-- display selected filters -->
      <span *ngIf="selectedFilters.length > 0" class="ml-2 text-gray-500">
        {{ selectedFilters.join(', ') }}
        <span class="ml-2 cursor-pointer" (click)="clearFilters()">
          &times;
        </span>
      </span>
    </div>
    <!-- filtering options -->
    <div
      class="absolute top-full left-1/2 transform -translate-x-1/2 bg-white border border-gray-200 rounded-lg shadow-lg px-2 py-2 mt-2 w-72 text-center"
      id="filter-options"
      [ngClass]="{ hidden: !showFilterOptions }"
      (click)="stopPropagation($event)"
    >
      <label class="mb-2 mr-2">Search for</label>
      <label class="inline-flex items-center">
        <input
          type="checkbox"
          class="form-checkbox"
          name="ads"
          value="ads"
          [(ngModel)]="filterAds"
          (change)="applyFilters()"
        />
        <span class="ml-2">Ads</span>
      </label>
      <label class="inline-flex items-center ml-6">
        <input
          type="checkbox"
          class="form-checkbox"
          name="negotiation"
          value="negotiation"
          [(ngModel)]="filterNegotiation"
          (change)="applyFilters()"
        />
        <span class="ml-2">Negotiation</span>
      </label>
    </div>
  </div>
</div>


    <!-- Profile icon -->
    <div class="flex-1 mx-2 cursor-auto">
      <div class="profile-icon" (click)="showPopup = !showPopup">
        <!-- <img
          src="https://picsum.photos/200/300"
          class="header-img"
        /> -->
        <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="0.5" y="0.5" width="35" height="35" rx="17.5" stroke="#597EF7"/>
          <rect width="20.5714" height="20.5714" transform="translate(7.71484 6.85742)" fill="white" style="mix-blend-mode:multiply"/>
          <path d="M18.0008 9.42884C18.6366 9.42884 19.258 9.61736 19.7866 9.97055C20.3152 10.3237 20.7272 10.8257 20.9705 11.4131C21.2137 12.0004 21.2774 12.6467 21.1534 13.2702C21.0293 13.8937 20.7232 14.4664 20.2737 14.916C19.8242 15.3655 19.2514 15.6716 18.6279 15.7957C18.0044 15.9197 17.3581 15.856 16.7708 15.6127C16.1834 15.3695 15.6814 14.9575 15.3283 14.4289C14.9751 13.9003 14.7866 13.2789 14.7866 12.6431C14.7866 11.7906 15.1252 10.9731 15.728 10.3703C16.3308 9.76749 17.1484 9.42884 18.0008 9.42884ZM18.0008 8.14313C17.1108 8.14313 16.2408 8.40705 15.5008 8.90151C14.7608 9.39598 14.184 10.0988 13.8434 10.9211C13.5028 11.7433 13.4137 12.6481 13.5873 13.521C13.7609 14.3939 14.1895 15.1958 14.8189 15.8251C15.4482 16.4544 16.25 16.883 17.1229 17.0567C17.9958 17.2303 18.9006 17.1412 19.7229 16.8006C20.5452 16.46 21.248 15.8832 21.7425 15.1432C22.2369 14.4032 22.5008 13.5331 22.5008 12.6431C22.5008 11.4497 22.0267 10.3051 21.1828 9.46115C20.3389 8.61723 19.1943 8.14313 18.0008 8.14313Z" fill="#597EF7"/>
          <path d="M24.4294 26.1431H23.1437V22.9288C23.1437 22.5067 23.0606 22.0888 22.899 21.6988C22.7375 21.3088 22.5007 20.9545 22.2023 20.656C21.9038 20.3575 21.5494 20.1208 21.1595 19.9592C20.7695 19.7977 20.3515 19.7146 19.9294 19.7146H16.0723C15.2198 19.7146 14.4022 20.0532 13.7994 20.656C13.1966 21.2588 12.858 22.0764 12.858 22.9288V26.1431H11.5723V22.9288C11.5723 21.7354 12.0464 20.5908 12.8903 19.7469C13.7342 18.9029 14.8788 18.4288 16.0723 18.4288H19.9294C21.1229 18.4288 22.2675 18.9029 23.1114 19.7469C23.9553 20.5908 24.4294 21.7354 24.4294 22.9288V26.1431Z" fill="#597EF7"/>
          </svg>
          
        <div class="profile-div" *ngIf="showPopup" >
          <div class="profile-box">
            <a mat-button (click)="openDialog()">Edit profile</a>
            <a routerLink="../reset-password">Reset password</a>
            <button (click)="logout()" class="text-red-600" >Logout</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
</header>