<div class="flex justify-center items-center mt-[5%]">
  <!-- Email part -->
  <div
    *ngIf="showEmailInput"
    class="w-full px-8 max-w-lg space-y-6 bg-white rounded-md py-16"
  >
    <h1 class="mb-6 text-3xl font-bold text-center">Don't worry</h1>
    <p class="text-center mx-12">
      We are here to help you to recover your password. Enter the email address
      you used when you joined and we'll send you instructions to reset your
      password.
    </p>
    <form (ngSubmit)="onEmailSend()" class="space-y-6 w-ful">
      <input
        [(ngModel)]="email"
        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring focus:ring-primary-100"
        type="email"
        name="email"
        placeholder="Email address"
        required="required"
      />
      <div>
        <!-- Ng event -->
        <!-- (click)="showEmailInput = false" -->
        <button type="submit" class="reset-btn">Send</button>
      </div>
    </form>
    <div class="text-sm text-gray-600 items-center flex justify-between">
      <a
        class="text-gray-800 cursor-pointer hover:text-blue-500 inline-flex items-center ml-4"
        (click)="getBack()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5 mr-2"
          viewBox="0 0 20 20"
          fill="currentColor"
        >
          <path
            fill-rule="evenodd"
            d="M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z"
            clip-rule="evenodd"
          />
        </svg>
        Back
      </a>
      <p class="hover:text-blue-500 cursor-pointer">Need help?</p>
    </div>
  </div>

  <!-- CONFIRM password part -->
  <form
    novalidate
    (ngSubmit)="OnSubmit()"
    *ngIf="!showEmailInput"
    class="w-full px-8 max-w-lg space-y-6 bg-white rounded-md py-16"
  >
    <h1 class="mb-6 text-3xl font-bold text-center">Password reset</h1>
    <p class="text-center mx-12">
      Make sure you create a password which is strong and is not used very
      frequently. Doing so might compromise your identity in this portal
    </p>
    <input
      [(ngModel)]="password1"
      class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring focus:ring-primary-100 invalid:[&:not(:placeholder-shown):not(:focus)]:border-red-500 peer"
      type="password"
      name="password"
      placeholder="Enter Password"
      required=""
      pattern=".{3,}"
    />
    <span
      class="mt-2 hidden text-sm text-red-500 peer-[&:not(:placeholder-shown):not(:focus):invalid]:block"
    >
      Please enter a valid password
    </span>
    <input
      [(ngModel)]="password2"
      (change)="compare()"
      class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring focus:ring-primary-100 invalid:[&:not(:placeholder-shown):not(:focus)]:border-red-500 peer"
      type="password"
      name="confirm_password"
      placeholder="Confirm Password"
      required=""
    />
    <!-- <div class="text-red-500">Passwords do NOT match</div> -->
    <div>
      <button
        type="submit"
        class="reset-btn"
        [disabled]="!compare()"
        [style.opacity]="compare() ? 1 : 0.5"
      >
        Send
      </button>
    </div>
  </form>
  
</div>
<div *ngIf = "success" class="text-green-600 flex items-center justify-center ">
  <strong>Successfully changed the password redirecting you to login page...</strong>
</div>
<div *ngIf = "isFailure" class="text-red-600 flex items-center justify-center ">
  <strong>
    An error occured while saving the password
  </strong>
</div>


